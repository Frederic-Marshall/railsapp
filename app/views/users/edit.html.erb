<div class='container'>
    <h2>Редактирование профиля</h2>

    <% if @user.errors.any? %>
        <div>
            <% @user.errors.full_messages.each do |message| %>
                <p><%= message %></p>
            <% end %>
        </div>
    <% end %>

    <div>
        <%= form_with model: @user, data: {turbo: false} do |form| %>
            <div class='form-group'>
                <p><%= form.label :name, 'Имя' %></p>
                <p><%= form.text_field :name, class: 'form-field' %></p>
            </div>
            <div class='form-group'>
                <p><%= form.label :nickname, 'Никнейм' %></p>
                <p><%= form.text_field :nickname, class: 'form-field' %></p>
            </div>
            <div class='form-group'>
                <p class="mt-lg text-sm">Если не хотите менять пароль - пропустите эти поля</p>
            </div>
            <div class='form-group'>
                <p><%= form.label :password, 'Пароль' %></p>
                <p><%= form.password_field :password, class: 'form-field' %></p>
            </div>
            <div class='form-group'>
                <p><%= form.label :password_confirmation, 'Подтвердите пароль' %></p>
                <p><%= form.password_field :password_confirmation, class: 'form-field' %></p>
            </div>
            
            <div class='form-group'>
                <p>
                    <%= form.submit "Сохранить", class: 'button' %>
                    <span> или <%= link_to "вернуться", :back, class: 'button-with-line' %></span>
                </p>
            </div>
        <% end %>
    </div>

    <div>
        <%= button_to "Удалить профиль", user_path(@user), 
            method: :delete,
            form: {data: {turbo_confirm: "Вы точно хотите удалить профиль?"}},
            class: 'button-with-line'  %>
    </div>
</div>